{% extends 'forms/secciones/base_seccion.html' %}
{% load static %}

{% block section_content %}
  {% include 'forms/form_sections/transformador.html' %}
  
  <!-- NOTA: La tabla de iteraciones se inyecta automáticamente por iteraciones-compartidas.js -->
  
{% endblock %}

{% block section_scripts %}
  <script>
    console.log('🔌 Scripts específicos de transformadores cargados');
    
    document.addEventListener('DOMContentLoaded', function() {
      console.log('🔌 Configurando autocompletados para Transformadores...');
      
      // Solo configurar la sección activa, NO crear nueva tabla
      setTimeout(function() {
        if (window.iteracionesManager && window.iteracionesManager.setSeccionActiva) {
          window.iteracionesManager.setSeccionActiva('transformadores');
          console.log('✅ Sistema de iteraciones configurado para Transformadores');
        } else {
          console.warn('⚠️ IteracionesManager no disponible');
        }
      }, 100);
      
      console.log('✅ Transformadores configurados correctamente');
    });
  </script>
{% endblock %}
