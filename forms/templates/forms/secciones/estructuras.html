{% extends 'forms/secciones/base_seccion.html' %}
{% load static %}

{% block section_content %}
  {% include 'forms/form_sections/estructuras_complete.html' %}
  
  <!-- NOTA: La tabla de iteraciones se inyecta automáticamente por iteraciones-compartidas.js -->
  
{% endblock %}

{% block section_scripts %}
  <!-- Script de verificación temporal -->
  <script src="{% static 'forms/js/tests/test-valores-predefinidos.js' %}"></script>
  
  <script>
    console.log('🏗️ Scripts específicos de estructuras cargados');
    
    document.addEventListener('DOMContentLoaded', function() {
      console.log('🏗️ Configurando autocompletados para Estructuras...');
      
      // Solo configurar la sección activa, NO crear nueva tabla
      setTimeout(function() {
        if (window.iteracionesManager && window.iteracionesManager.setSeccionActiva) {
          window.iteracionesManager.setSeccionActiva('estructuras');
          console.log('✅ Sistema de iteraciones configurado para Estructuras');
        } else {
          console.warn('⚠️ IteracionesManager no disponible');
        }
      }, 100);
      
      console.log('✅ Estructuras configuradas correctamente');
    });
  </script>
{% endblock %}
