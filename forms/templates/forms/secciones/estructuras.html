{% extends 'forms/secciones/base_seccion.html' %}
{% load static %}

{% block section_content %}
  {% include 'forms/form_sections/estructuras_complete.html' %}
  
  <!-- NOTA: La tabla de iteraciones se inyecta automÃ¡ticamente por iteraciones-compartidas.js -->
  
{% endblock %}

{% block section_scripts %}
  <!-- Script de verificaciÃ³n temporal -->
  <script src="{% static 'forms/js/tests/test-valores-predefinidos.js' %}"></script>
  
  <script>
    console.log('ğŸ—ï¸ Scripts especÃ­ficos de estructuras cargados');
    
    document.addEventListener('DOMContentLoaded', function() {
      console.log('ğŸ—ï¸ Configurando autocompletados para Estructuras...');
      
      // Solo configurar la secciÃ³n activa, NO crear nueva tabla
      setTimeout(function() {
        if (window.iteracionesManager && window.iteracionesManager.setSeccionActiva) {
          window.iteracionesManager.setSeccionActiva('estructuras');
          console.log('âœ… Sistema de iteraciones configurado para Estructuras');
        } else {
          console.warn('âš ï¸ IteracionesManager no disponible');
        }
      }, 100);
      
      console.log('âœ… Estructuras configuradas correctamente');
    });
  </script>
{% endblock %}
